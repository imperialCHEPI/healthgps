<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Health-GPS: CrossGuid &lt;a href=&quot;https://travis-ci.org/graeme-hill/crossguid&quot;&gt;&lt;img src=&quot;https://travis-ci.org/graeme-hill/crossguid.svg?branch=master&quot; alt=&quot;Build Status&quot;/&gt;&lt;/a&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Health-GPS
   &#160;<span id="projectnumber">1.2.2.0</span>
   </div>
   <div id="projectbrief">Global Health Policy Simulation model (Health-GPS)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_crossguid_src_08ee1b7681_f70a1f9530_clean_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">CrossGuid <a href="https://travis-ci.org/graeme-hill/crossguid"><img src="https://travis-ci.org/graeme-hill/crossguid.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a> </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>CrossGuid is a minimal, cross platform, C++ GUID library. It uses the best native GUID/UUID generator on the given platform and has a generic class for parsing, stringifying, and comparing IDs. The guid generation technique is determined by your platform:</p>
<h1><a class="anchor" id="autotoc_md314"></a>
Linux</h1>
<p>On linux you can use <code>libuuid</code> which is pretty standard. On distros like Ubuntu it is available by default but to use it you need the header files so you have to do: </p><pre class="fragment">sudo apt-get install uuid-dev
</pre> <h1><a class="anchor" id="autotoc_md315"></a>
Mac/iOS</h1>
<p>On Mac or iOS you can use <code>CFUUIDCreate</code> from <code>CoreFoundation</code>. Since it's a plain C function you don't even need to compile as Objective-C++.</p>
<h1><a class="anchor" id="autotoc_md316"></a>
Windows</h1>
<p>On Windows we just use the the built-in function <code>CoCreateGuid</code>. CMake can generate a Visual Studio project if that's your thing.</p>
<h1><a class="anchor" id="autotoc_md317"></a>
Android</h1>
<p>The Android version uses a handle to a <code>JNIEnv</code> object to invoke the <code>randomUUID()</code> function on <code>java.util.UUID</code> from C++. The Android specific code is all in the <code>android/</code> subdirectory. If you have an emulator already running, then you can run the <code>android.sh</code> script in the root directory. It has the following requirements:</p>
<ul>
<li>Android emulator is already running (or you have physical device connected).</li>
<li>You're using bash.</li>
<li>adb is in your path.</li>
<li>You have an Android sdk setup including <code>ANDROID_HOME</code> environment variable.</li>
</ul>
<h1><a class="anchor" id="autotoc_md318"></a>
Versions</h1>
<p>This is version 0.2 of CrossGuid. If you all already using CrossGuid and your code uses <code>GuidGenerator</code> then you are using version 0.1. Differences in version 0.2:</p>
<ul>
<li>Put everything inside the namespace <code>xg</code> instead of using the global namespace.</li>
<li>Removed <code>GuidGenerator</code> class and replaced with the free function <code>xg::newGuid</code>. This is the way I originally wanted it to work but since Android is a special snowflake requiring state (<code>JNIEnv *</code>) I introduced the <code>GuidGenerator</code> class specifically so that there would be somewhere to store the <code>JNIEnv *</code> when running on Android. However, this basically meant complicating the library for the sake of one platform. In version 0.2 the goal is to design for the normal platforms and let Android be weird. In Android you just need to run <code>xg::initJni(JNIEnv *)</code> before you create any guids. The <code>JNIEnv *</code> is just stored as a global variable.</li>
<li>Added CMake build system. Instead of different scripts for each platform you can just run cmake and it should handle each platform (except Android which again is special).</li>
<li>Actual guid bytes are stored in <code>std::array&lt;unsigned char, 16&gt;</code> instead of <code>std::vector&lt;unsigned char&gt;</code>.</li>
<li>More error checking (like if you try to create a guid with invalid number of bytes).</li>
</ul>
<p>If you're happily using version 0.1 then there's not really any reason to change.</p>
<h1><a class="anchor" id="autotoc_md319"></a>
Compiling</h1>
<p>Just do the normal cmake thing:</p>
<div class="fragment"><div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake ..</div>
<div class="line">make install</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md320"></a>
Running tests</h1>
<p>After compiling as described above you should get two files: <code>libcrossguid.a</code> (the static library) and <code>crossguid-test</code> (the test runner). So to run the tests just do:</p>
<div class="fragment"><div class="line">./crossguid-test</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md321"></a>
Basic usage</h1>
<h2><a class="anchor" id="autotoc_md322"></a>
Creating guids</h2>
<p>Create a new random guid:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;crossguid/guid.hpp&gt;</span></div>
<div class="line">...</div>
<div class="line">auto g = <a class="code" href="out_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp.html#addb30feb9fe80e7c64b61d558621f6e6">xg::newGuid</a>();</div>
<div class="ttc" id="aout_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp_html_addb30feb9fe80e7c64b61d558621f6e6"><div class="ttname"><a href="out_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp.html#addb30feb9fe80e7c64b61d558621f6e6">newGuid</a></div><div class="ttdeci">Guid newGuid()</div></div>
</div><!-- fragment --><p><b>NOTE:</b> On Android you need to call <code>xg::initJni(JNIEnv *)</code> first so that it is possible for <code>xg::newGuid()</code> to call back into java libraries. <code>initJni</code> only needs to be called once when the process starts.</p>
<p>Create a new zero guid:</p>
<div class="fragment"><div class="line">xg::Guid g;</div>
</div><!-- fragment --><p>Create from a string:</p>
<div class="fragment"><div class="line">xg::Guid g(<span class="stringliteral">&quot;c405c66c-ccbb-4ffd-9b62-c286c0fd7a3b&quot;</span>);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md323"></a>
Checking validity</h2>
<p>If you have some string value and you need to check whether it is a valid guid then you can simply attempt to construct the guid:</p>
<div class="fragment"><div class="line">xg::Guid g(<span class="stringliteral">&quot;bad-guid-string&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (!g.isValid())</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// do stuff</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>If the guid string is not valid then all bytes are set to zero and <code>isValid()</code> returns <code>false</code>.</p>
<h2><a class="anchor" id="autotoc_md324"></a>
Converting guid to string</h2>
<p>First of all, there is normally no reason to convert a guid to a string except for in debugging or when serializing for API calls or whatever. You should definitely avoid storing guids as strings or using strings for any computations. If you do need to convert a guid to a string, then you can utilize strings because the <code>&lt;&lt;</code> operator is overloaded. To print a guid to <code>std::cout</code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> doGuidStuff()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> myGuid = <a class="code" href="out_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp.html#addb30feb9fe80e7c64b61d558621f6e6">xg::newGuid</a>();</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Here is a guid: &quot;</span> &lt;&lt; myGuid &lt;&lt; std::endl;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Or to store a guid in a <code>std::string</code>:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> doGuidStuff()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> myGuid = <a class="code" href="out_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp.html#addb30feb9fe80e7c64b61d558621f6e6">xg::newGuid</a>();</div>
<div class="line">    std::stringstream <a class="code" href="namespaceindicators_1_1details.html#ab2422a182ffecd25789549d8aec2a2abaf7b44cfafd5c52223d5498196c8a2e7b">stream</a>;</div>
<div class="line">    <a class="code" href="namespaceindicators_1_1details.html#ab2422a182ffecd25789549d8aec2a2abaf7b44cfafd5c52223d5498196c8a2e7b">stream</a> &lt;&lt; myGuid;</div>
<div class="line">    <span class="keyword">auto</span> guidString = <a class="code" href="namespaceindicators_1_1details.html#ab2422a182ffecd25789549d8aec2a2abaf7b44cfafd5c52223d5498196c8a2e7b">stream</a>.str();</div>
<div class="line">}</div>
<div class="ttc" id="anamespaceindicators_1_1details_html_ab2422a182ffecd25789549d8aec2a2abaf7b44cfafd5c52223d5498196c8a2e7b"><div class="ttname"><a href="namespaceindicators_1_1details.html#ab2422a182ffecd25789549d8aec2a2abaf7b44cfafd5c52223d5498196c8a2e7b">indicators::details::ProgressBarOption::stream</a></div><div class="ttdeci">@ stream</div></div>
</div><!-- fragment --><p>There is also a <code>str()</code> function that returns a <code>std::string</code>:</p>
<div class="fragment"><div class="line">std::string guidStr = <a class="code" href="out_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp.html#addb30feb9fe80e7c64b61d558621f6e6">xg::newGuid</a>().<a class="code" href="classGuid.html#a13bf8186675b39230c5055b5a9056a0d">str</a>();</div>
<div class="ttc" id="aclassGuid_html_a13bf8186675b39230c5055b5a9056a0d"><div class="ttname"><a href="classGuid.html#a13bf8186675b39230c5055b5a9056a0d">Guid::str</a></div><div class="ttdeci">std::string str() const</div><div class="ttdef"><b>Definition:</b> guid.cpp:114</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md325"></a>
Creating a guid from raw bytes</h2>
<p>It's unlikely that you will need this, but this is done within the library internally to construct a <code><a class="el" href="classGuid.html">Guid</a></code> object from the raw data given by the system's built-in guid generation function. There are two key constructors for this:</p>
<div class="fragment"><div class="line"><a class="code" href="classGuid.html">Guid</a>(std::array&lt;unsigned char, 16&gt; &amp;<a class="code" href="classbytes.html">bytes</a>);</div>
<div class="ttc" id="aclassGuid_html"><div class="ttname"><a href="classGuid.html">Guid</a></div><div class="ttdef"><b>Definition:</b> guid.hpp:50</div></div>
<div class="ttc" id="aclassbytes_html"><div class="ttname"><a href="classbytes.html">bytes</a></div><div class="ttdef"><b>Definition:</b> format.h:3841</div></div>
</div><!-- fragment --><p>and</p>
<div class="fragment"><div class="line"><a class="code" href="classGuid.html">Guid</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> * <a class="code" href="classbytes.html">bytes</a>);</div>
</div><!-- fragment --><p>When possible prefer the <code>std::array</code> constructor because it is safer. If you pass in an incorrectly sized C array then bad things will happen.</p>
<h2><a class="anchor" id="autotoc_md326"></a>
Comparing guids</h2>
<p><code>==</code> and <code>!=</code> are implemented, so the following works as expected:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> doGuidStuff()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> guid1 = <a class="code" href="out_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp.html#addb30feb9fe80e7c64b61d558621f6e6">xg::newGuid</a>();</div>
<div class="line">    <span class="keyword">auto</span> guid2 = <a class="code" href="out_2build_2linux-debug_2vcpkg__installed_2x64-linux_2include_2crossguid_2guid_8hpp.html#addb30feb9fe80e7c64b61d558621f6e6">xg::newGuid</a>();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> guidsAreEqual = guid1 == guid2;</div>
<div class="line">    <span class="keyword">auto</span> guidsAreNotEqual = guid1 != guid2;</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md327"></a>
Hashing guids</h2>
<p>Guids can be used directly in containers requireing <code>std::hash</code> such as <code>std::map,</code>std::unordered_map` etc.</p>
<h1><a class="anchor" id="autotoc_md328"></a>
License</h1>
<p>The MIT License (MIT)</p>
<p>Copyright (c) 2014 Graeme Hill (<a href="http://graemehill.ca">http://graemehill.ca</a>)</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
