<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Health-GPS: Benchmark</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Health-GPS
   &#160;<span id="projectnumber">1.2.2.0</span>
   </div>
   <div id="projectbrief">Global Health Policy Simulation model (Health-GPS)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Benchmark </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/google/benchmark/actions?query=workflow%3Abuild-and-test"><img src="https://github.com/google/benchmark/workflows/build-and-test/badge.svg" alt="build-and-test" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/google/benchmark/actions/workflows/bazel.yml"><img src="https://github.com/google/benchmark/actions/workflows/bazel.yml/badge.svg" alt="bazel" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/google/benchmark/actions?query=workflow%3Apylint"><img src="https://github.com/google/benchmark/workflows/pylint/badge.svg" alt="pylint" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/google/benchmark/actions?query=workflow%3Atest-bindings"><img src="https://github.com/google/benchmark/workflows/test-bindings/badge.svg" alt="test-bindings" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://travis-ci.org/google/benchmark"><img src="https://travis-ci.org/google/benchmark.svg?branch=master" alt="Build Status" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/r/google/benchmark"><img src="https://coveralls.io/repos/google/benchmark/badge.svg" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a></p>
<p>A library to benchmark code snippets, similar to unit tests. Example:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">#include &lt;benchmark/benchmark.h&gt;</div>
<div class="line"> </div>
<div class="line">static void BM_SomeFunction(benchmark::State&amp; state) {</div>
<div class="line">  // Perform setup here</div>
<div class="line">  for (auto _ : state) {</div>
<div class="line">    // This code gets timed</div>
<div class="line">    SomeFunction();</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line">// Register the function as a benchmark</div>
<div class="line">BENCHMARK(BM_SomeFunction);</div>
<div class="line">// Run the benchmark</div>
<div class="line">BENCHMARK_MAIN();</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md80"></a>
Getting Started</h1>
<p>To get started, see <a href="#requirements">Requirements</a> and <a href="#installation">Installation</a>. See <a href="#usage">Usage</a> for a full example and the <a class="el" href="md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_docs_user_guide.html">User Guide</a> for a more comprehensive feature overview.</p>
<p>It may also help to read the <a href="https://github.com/google/googletest/blob/master/docs/primer.md">Google Test documentation</a> as some of the structural aspects of the APIs are similar.</p>
<h1><a class="anchor" id="autotoc_md81"></a>
Resources</h1>
<p><a href="https://groups.google.com/d/forum/benchmark-discuss">Discussion group</a></p>
<p>IRC channels:</p><ul>
<li><a href="https://libera.chat">libera</a> <a class="el" href="namespacebenchmark.html">benchmark</a></li>
</ul>
<p><a class="el" href="md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_docs_tools.html">Additional Tooling Documentation</a></p>
<p><a class="el" href="md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_docs_AssemblyTests.html">Assembly Testing Documentation</a></p>
<p><a class="el" href="md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_docs_python_bindings.html">Building and installing Python bindings</a></p>
<h1><a class="anchor" id="autotoc_md82"></a>
Requirements</h1>
<p>The library can be used with C++03. However, it requires C++11 to build, including compiler and standard library support.</p>
<p>The following minimum versions are required to build the library:</p>
<ul>
<li>GCC 4.8</li>
<li>Clang 3.4</li>
<li>Visual Studio 14 2015</li>
<li>Intel 2015 Update 1</li>
</ul>
<p>See <a class="el" href="md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_68fd95cee4db5d2d760f9540302b390e.html">Platform-Specific Build Instructions</a>.</p>
<h1><a class="anchor" id="autotoc_md83"></a>
Installation</h1>
<p>This describes the installation process using cmake. As pre-requisites, you'll need git and cmake installed.</p>
<p><em>See <a class="el" href="md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_docs_dependencies.html">dependencies.md</a> for more details regarding supported versions of build tools.</em></p>
<div class="fragment"><div class="line"># Check out the library.</div>
<div class="line">$ git clone https://github.com/google/benchmark.git</div>
<div class="line"># Go to the library root directory</div>
<div class="line">$ cd benchmark</div>
<div class="line"># Make a build directory to place the build output.</div>
<div class="line">$ cmake -E make_directory &quot;build&quot;</div>
<div class="line"># Generate build system files with cmake, and download any dependencies.</div>
<div class="line">$ cmake -E chdir &quot;build&quot; cmake -DBENCHMARK_DOWNLOAD_DEPENDENCIES=on -DCMAKE_BUILD_TYPE=Release ../</div>
<div class="line"># or, starting with CMake 3.13, use a simpler form:</div>
<div class="line"># cmake -DCMAKE_BUILD_TYPE=Release -S . -B &quot;build&quot;</div>
<div class="line"># Build the library.</div>
<div class="line">$ cmake --build &quot;build&quot; --config Release</div>
</div><!-- fragment --><p> This builds the <code>benchmark</code> and <code>benchmark_main</code> libraries and tests. On a unix system, the build directory should now look something like this:</p>
<div class="fragment"><div class="line">/benchmark</div>
<div class="line">  /build</div>
<div class="line">    /src</div>
<div class="line">      /libbenchmark.a</div>
<div class="line">      /libbenchmark_main.a</div>
<div class="line">    /test</div>
<div class="line">      ...</div>
</div><!-- fragment --><p>Next, you can run the tests to check the build.</p>
<div class="fragment"><div class="line">$ cmake -E chdir &quot;build&quot; ctest --build-config Release</div>
</div><!-- fragment --><p>If you want to install the library globally, also run:</p>
<div class="fragment"><div class="line">sudo cmake --build &quot;build&quot; --config Release --target install</div>
</div><!-- fragment --><p>Note that Google Benchmark requires Google Test to build and run the tests. This dependency can be provided two ways:</p>
<ul>
<li>Checkout the Google Test sources into <code>benchmark/googletest</code>.</li>
<li>Otherwise, if <code>-DBENCHMARK_DOWNLOAD_DEPENDENCIES=ON</code> is specified during configuration as above, the library will automatically download and build any required dependencies.</li>
</ul>
<p>If you do not wish to build and run the tests, add <code>-DBENCHMARK_ENABLE_GTEST_TESTS=OFF</code> to <code>CMAKE_ARGS</code>.</p>
<h2><a class="anchor" id="autotoc_md84"></a>
Debug vs Release</h2>
<p>By default, benchmark builds as a debug library. You will see a warning in the output when this is the case. To build it as a release library instead, add <code>-DCMAKE_BUILD_TYPE=Release</code> when generating the build system files, as shown above. The use of <code>--config Release</code> in build commands is needed to properly support multi-configuration tools (like Visual Studio for example) and can be skipped for other build systems (like Makefile).</p>
<p>To enable link-time optimisation, also add <code>-DBENCHMARK_ENABLE_LTO=true</code> when generating the build system files.</p>
<p>If you are using gcc, you might need to set <code>GCC_AR</code> and <code>GCC_RANLIB</code> cmake cache variables, if autodetection fails.</p>
<p>If you are using clang, you may need to set <code>LLVMAR_EXECUTABLE</code>, <code>LLVMNM_EXECUTABLE</code> and <code>LLVMRANLIB_EXECUTABLE</code> cmake cache variables.</p>
<h2><a class="anchor" id="autotoc_md85"></a>
Stable and Experimental Library Versions</h2>
<p>The main branch contains the latest stable version of the benchmarking library; the API of which can be considered largely stable, with source breaking changes being made only upon the release of a new major version.</p>
<p>Newer, experimental, features are implemented and tested on the <a href="https://github.com/google/benchmark/tree/v2"><code>v2</code> branch</a>. Users who wish to use, test, and provide feedback on the new features are encouraged to try this branch. However, this branch provides no stability guarantees and reserves the right to change and break the API at any time.</p>
<h1><a class="anchor" id="autotoc_md86"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md87"></a>
Basic usage</h2>
<p>Define a function that executes the code to measure, register it as a benchmark function using the <code>BENCHMARK</code> macro, and ensure an appropriate <code>main</code> function is available:</p>
<div class="fragment"><div class="line"> {c++}</div>
<div class="line">#include &lt;benchmark/benchmark.h&gt;</div>
<div class="line"> </div>
<div class="line">static void BM_StringCreation(benchmark::State&amp; state) {</div>
<div class="line">  for (auto _ : state)</div>
<div class="line">    std::string empty_string;</div>
<div class="line">}</div>
<div class="line">// Register the function as a benchmark</div>
<div class="line">BENCHMARK(BM_StringCreation);</div>
<div class="line"> </div>
<div class="line">// Define another benchmark</div>
<div class="line">static void BM_StringCopy(benchmark::State&amp; state) {</div>
<div class="line">  std::string x = &quot;hello&quot;;</div>
<div class="line">  for (auto _ : state)</div>
<div class="line">    std::string copy(x);</div>
<div class="line">}</div>
<div class="line">BENCHMARK(BM_StringCopy);</div>
<div class="line"> </div>
<div class="line">BENCHMARK_MAIN();</div>
</div><!-- fragment --><p>To run the benchmark, compile and link against the <code>benchmark</code> library (libbenchmark.a/.so). If you followed the build steps above, this library will be under the build directory you created.</p>
<div class="fragment"><div class="line"># Example on linux after running the build steps above. Assumes the</div>
<div class="line"># `benchmark` and `build` directories are under the current directory.</div>
<div class="line">$ g++ mybenchmark.cc -std=c++11 -isystem benchmark/include \</div>
<div class="line">  -Lbenchmark/build/src -lbenchmark -lpthread -o mybenchmark</div>
</div><!-- fragment --><p>Alternatively, link against the <code>benchmark_main</code> library and remove <code><a class="el" href="buildtrees_2benchmark_2src_2v1_87_81-1d39cd1386_8clean_2include_2benchmark_2benchmark_8h.html#a76a768260eed180721a82b78d1bcfe95">BENCHMARK_MAIN()</a>;</code> above to get the same behavior.</p>
<p>The compiled executable will run all benchmarks by default. Pass the <code>--help</code> flag for option information or see the <a class="el" href="md__home_runner_work_healthgps_healthgps_vcpkg_buildtrees_benchmark_src_v1_7_1_1d39cd1386_clean_docs_user_guide.html">User Guide</a>.</p>
<h2><a class="anchor" id="autotoc_md88"></a>
Usage with CMake</h2>
<p>If using CMake, it is recommended to link against the project-provided <code>benchmark::benchmark</code> and <code>benchmark::benchmark_main</code> targets using <code>target_link_libraries</code>. It is possible to use <code>find_package</code> to import an installed version of the library. </p><div class="fragment"><div class="line">find_package(benchmark REQUIRED)</div>
</div><!-- fragment --><p> Alternatively, <code>add_subdirectory</code> will incorporate the library directly in to one's CMake project. </p><div class="fragment"><div class="line">add_subdirectory(benchmark)</div>
</div><!-- fragment --><p> Either way, link to the library as follows. </p><div class="fragment"><div class="line">target_link_libraries(MyTarget benchmark::benchmark)</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
